// @license magnet:?xt=urn:btih:8e4f440f4c65981c5bf93c76d35135ba5064d8b7&dn=apache-2.0.txt Apache-2.0
var Promise,WebKitMutationObserver,resolve,syiro;
(function(a){(function(f){f.storage={};f.Manage=function(b,c,d){var e,g,h;-1!==c.indexOf("->")?(e=c.slice(0,c.indexOf("->")),h=c.replace(e+"->","")):e=c;"undefined"==typeof a.data.storage[e]&&("write"==b?"string"==typeof h?a.data.storage[e]={}:(a.data.storage[e]=d,g=!0):g=!1);!1!==g&&"string"==typeof h&&(g=!0,"read"==b?g="undefined"!==typeof a.data.storage[e][h]?a.data.storage[e][h]:!1:"write"==b?"undefined"!==typeof d&&(a.data.storage[e][h]=d):"delete"==b&&"undefined"!==typeof a.data.storage[e][h]&&
delete a.data.storage[e][h]);g&&"delete"==b&&0==Object.keys(a.data.storage[e]).length&&delete a.data.storage[e];return g};f.Read=function(b){return a.data.Manage("read",b)};f.Write=function(b,c){return a.data.Manage("write",b,c)};f.Delete=function(b){return a.data.Manage("delete",b)}})(a.data||(a.data={}))})(syiro||(syiro={}));
(function(a){(function(f){f.Animate=function(b,c){var d=null,e=a.utilities.TypeOfThing(b);"ComponentObject"==e?d=a.component.Fetch(b):"Element"==e&&(d=b,b=a.component.FetchComponentObject(d));null!==d&&"string"==typeof c.animation&&("button"==b.type&&"toggle"==d.getAttribute("data-syiro-component-type")&&(d=d.querySelector('div[data-syiro-minor-component="buttonToggle"]')),"function"==typeof c.postAnimationFunc&&("undefined"!==typeof d.style.transition||"undefined"!==typeof d.style.webkitTransition?
(e="webkitTransitionEnd","undefined"!==typeof d.style.transition&&(e="transitionend"),a.events.Add(e,d,function(b,c,d){"function"==typeof b&&b(d);a.events.Remove(c,d)}.bind(this,c.postAnimationFunc,e))):c.postAnimationFunc.call(this,b)),d.setAttribute("data-syiro-animation",c.animation))};f.Reset=function(b){var c;a.component.IsComponentObject(b)?c=a.component.Fetch(b):(c=b,b=a.component.FetchComponentObject(c));null!==c&&("button"==b.type&&"toggle"==c.getAttribute("data-syiro-component-type")&&(c=
c.querySelector('div[data-syiro-minor-component="buttonToggle"]')),c.removeAttribute("data-syiro-animation"),c.removeAttribute("data-syiro-animation-status"))};f.FadeIn=function(b,c){a.animation.Animate(b,{animation:"fade-in",postAnimationFunc:c})};f.FadeOut=function(b,c){a.animation.Animate(b,{animation:"fade-out",postAnimationFunc:c})};f.Slide=function(b,c){a.animation.Animate(b,{animation:"slide",postAnimationFunc:c})}})(a.animation||(a.animation={}))})(syiro||(syiro={}));
(function(a){(function(f){f.Strings={down:"mousedown",up:"mouseup",move:"mousemove",fullscreenchange:["fullscreenchange","mozfullscreenchange","msfullscreenchange","webkitfullscreenchange"],orientationchange:["orientationchange","mozorientationchange","msorientationchange"]};f.Handler=function(b,c){-1!==c.type.indexOf("touch")&&c.preventDefault();a.events.Trigger(c.type,b,c)};f.Trigger=function(b,c,d){var e=c,g;g=null;a.utilities.TypeOfThing(c,"ComponentObject")?g=a.component.Fetch(c):(e=a.component.FetchComponentObject(c),
g=c);"searchbox"==e.type&&(g=g.querySelector("input"));b=a.data.Read(e.id+"->handlers->"+b);g="INPUT"==g.nodeName?g.value:d;for(d=0;d<b.length;d++)b[d].call(this,c,g)};f.Add=function(b,c,d){var e=!0;if(3==arguments.length){"string"==typeof b&&(b=b.replace(" ","").split(","));var g=c,h;a.utilities.TypeOfThing(c,"ComponentObject")?h=a.component.Fetch(c):(g=a.component.FetchComponentObject(c),h=c);"list-item"==c.type?e=null==h.querySelector("div"):"searchbox"==c.type&&(h=h.querySelector("input"));if(e)for(var f=
0,k=b;f<k.length;f++){var m=k[f],n=a.data.Read(g.id+"->handlers->"+m);"boolean"==typeof n?(n=[d],0==a.data.Read(g.id+"->DisableInputTrigger")&&h.addEventListener(m,a.events.Handler.bind(this,c))):-1==n.indexOf(d)&&n.push(d);a.data.Write(g.id+"->handlers->"+m,n)}}else e=!1;return e};f.Remove=function(){for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];var d=!0,e=!1,g,h;if(2<=b.length&&4>b.length&&("string"==typeof b[0]||"undefined"!==typeof b[0].length?(g=b[0],"string"==typeof g&&(g=g.trim().split(" "))):
d=!1,c=b[1],"function"==typeof b[2]&&(h=b[2]),a.utilities.TypeOfThing(c,"ComponentObject")?b=a.component.Fetch(c):(b=c,c=a.component.FetchComponentObject(c)),d&&"undefined"!==typeof b&&null!==b)){for(d=0;d<g.length;d++){var e=g[d],f=null;if("function"==typeof h){var f=a.data.Read(c.id+"->handlers->"+e),k=f.indexOf(h);-1!==k&&f.splice(k,1)}null==f||0==f.length?(a.data.Delete(c.id+"->handlers->"+e),b.removeEventListener(e,a.events.Handler.bind(this,c))):a.data.Write(c.id+"->handlers->"+e,f)}e=!0}return e}})(a.events||
(a.events={}))})(syiro||(syiro={}));
(function(a){(function(f){f.ElementCreator=function(b,c){if("string"==typeof b&&"object"==typeof c){var d=document.createElement(b),e;for(e in c){var g=c[e];if("content"!==e)"content-attr"==e&&(e="content"),d.setAttribute(e,a.utilities.SanitizeHTML(g));else if("string"==typeof g||a.utilities.TypeOfThing(g,"Element")){var h=a.utilities.SanitizeHTML(g);"string"==typeof g?d.innerHTML=h:d.appendChild(h)}}return d}};f.Run=function(b){var c=!1;b=function(b){a.device.SupportsRequestAnimationFrame?requestAnimationFrame(b):
b()}.bind(this,b);"function"==typeof Promise?(new Promise(b),c=!0):b();return c};f.SanitizeHTML=function(b){var c=!1;if("string"==typeof b)c=b.replace(/<*[^]script*>/g,"");else if(a.utilities.TypeOfThing(b,"Element")){if("script"!==b.tagName.toLowerCase()&&(c=b.querySelectorAll("script"),0!==c.length))for(var d in c){var e=c[d];a.utilities.TypeOfThing(e,"Element")&&e.parentElement.removeChild(e)}c=b}return c};f.SecondsToTimeFormat=function(a){var c={};3600<=a?(c.hours=Math.floor(a/3600),c.minutes=
Math.floor((a-3600*c.hours)/60),c.seconds=Math.floor(a-3600*c.hours-60*c.minutes)):60<=a&&3600>a?(c.minutes=Math.floor(a/60),c.seconds=Math.floor(a-60*c.minutes)):(c.minutes=0,c.seconds=a);c.seconds=Math.floor(c.seconds);for(var d in c){a=c[d];var e=a.toString();10>a&&(e="0"+e);c[d]=e}return c};f.TypeOfThing=function(a,c){var d=typeof a;"undefined"!==d&&null!==a?"object"==d&&"undefined"==typeof a.nodeType?d="undefined"!==typeof a.id&&"undefined"!==typeof a.type?"ComponentObject":"undefined"!==typeof a.link&&
"undefined"!==typeof a.title?"LinkPropertiesObject":1==Array.isArray(a)?"Array":a.toString().replace("[object ","").replace("]",""):"undefined"!==typeof a.nodeType&&(9!==a.nodeType?d="Element":9==a.nodeType&&(d="Document")):null==a&&(d="null");"string"==typeof c&&(d=c==d);return d}})(a.utilities||(a.utilities={}))})(syiro||(syiro={}));
(function(a){(function(f){f.GetObject=function(b){var c=b;"ComponentObject"==a.utilities.TypeOfThing(b)&&(c=a.component.Fetch(b));return c.style};f.Get=function(b,c){var d=a.style.GetObject(b),e=a.style.GetPropertyCamelCased(c),d=d[e];a.utilities.TypeOfThing(d,"string")||(d="");return d};f.GetPropertyCamelCased=function(a){var c=a,d=a.split("-");if("float"!==a){if(1<d.length)for(c=d[0],a=0,d=d.slice(1);a<d.length;a++)var e=d[a],c=c+(e.substr(0,1).toUpperCase()+e.substr(1))}else c="cssFloat";return c};
f.LoadColors=function(){var b=a.utilities.ElementCreator("div",{"data-syiro-component":"internalColorContainer"});document.body.appendChild(b);var c=window.getComputedStyle(b);a.backgroundColor=c.backgroundColor;a.primaryColor=c.color;a.secondaryColor=c.borderColor;document.body.removeChild(b)};f.Set=function(b,c,d){var e=!0,g=a.utilities.TypeOfThing(b),h=b;"ComponentObject"==g?h=a.component.Fetch(b):"ComponentObject"!==g&&"Element"!==g&&(e=!1);e&&a.utilities.TypeOfThing(d,"string")&&(b=function(b,
c,d){a.style.GetObject(b);c=a.style.GetPropertyCamelCased(c);b.style[c]=d.replace("!important","").trim()}.bind(this,h,c,d),a.utilities.Run(b));return e}})(a.style||(a.style={}))})(syiro||(syiro={}));
(function(a){(function(f){f.Position=function(b,c,d){var e=!1;if(3==arguments.length){var g,h;"string"==a.utilities.TypeOfThing(b)&&(b=[arguments[0]]);a.component.IsComponentObject(c)&&(g=a.component.Fetch(c));a.component.IsComponentObject(d)&&(h=a.component.Fetch(d));if("object"==typeof b&&null!==g&&null!==h){var e=!0,f=a.component.FetchDimensionsAndPosition(g),k=a.component.FetchDimensionsAndPosition(h);h=f.height;var f=f.width,m=k.top,n=k.left,q=f-k.width,r=m-h,k=m+k.height,m=n;0<q?m=n-q:0>q&&
(m=n+Math.abs(q));for(var t=0,v=b;t<v.length;t++){var u=v[t],p;switch(u){case "above":p=0<=r?r:k;break;case "below":p=k<=a.device.height-h?k:r;break;case "left":p=0<=n&&n+f<a.device.width-f?n:m;break;case "right":p=0<m?m:n;break;case "center":0<q?(p=q/2,p=n-p+f>a.device.width?m:0>n-p?n:n-p):p=0>q?n+Math.abs(q)/2:n}"above"==u||"below"==u?a.style.Set(g,"top",p.toString()+"px"):a.style.Set(g,"left",p.toString()+"px")}}}return e}})(a.render||(a.render={}))})(syiro||(syiro={}));
(function(a){(function(f){f.lastUniqueIds={};f.Fetch=function(b){var c=document.querySelector('div[data-syiro-component-id="'+b.id+'"]');null==c&&(c=a.data.Read(b.id+"->HTMLElement"));return c};f.FetchComponentObject=function(){for(var b=0;b<arguments.length;b++);var b={id:"",type:""},c;1==arguments.length?c="string"==typeof arguments[0]?document.querySelector(arguments[0]):arguments[0]:2==arguments.length&&"string"==typeof arguments[1]&&(c=document.querySelector(arguments[1]));var d=a.utilities.TypeOfThing(c);
if("Element"==d)if(d=c.getAttribute("data-syiro-component-id"),null!==d)b.id=d,b.type=c.getAttribute("data-syiro-component");else{if(2==arguments.length&&"string"==typeof arguments[0])b.id=a.component.IdGen(arguments[0]),b.type=arguments[0];else if(1==arguments.length){var d="",e=c.getAttribute("data-syiro-component");null!==e?(d=e,b.type=e):(d=c.tagName.toLowerCase(),b.type=d);b.id=a.component.IdGen(d)}c.setAttribute("data-syiro-component-id",b.id);c.setAttribute("data-syiro-component",b.type);"button"==
b.type&&"dropdown"==c.getAttribute("data-syiro-component-type")&&a.events.Add(a.events.Strings.up,b,a.button.Toggle)}else if("Document"==d||0==d.indexOf("Screen")||"Window"==d)c=d.toLowerCase(),b.id=c,b.type=c;return b};f.FetchDimensionsAndPosition=function(b){return(a.component.IsComponentObject(b)?a.component.Fetch(b):b).getClientRects()[0]};f.FetchLinkedListComponentObject=function(b){return a.component.FetchComponentObject(document.querySelector('div[data-syiro-component="list"][data-syiro-component-owner="'+
b.id+'"]'))};f.IdGen=function(b){var c=(void 0==a.component.lastUniqueIds[b]?0:a.component.lastUniqueIds[b])+1;a.component.lastUniqueIds[b]=c;return b+c.toString()};f.IsComponentObject=function(b){return"ComponentObject"==a.utilities.TypeOfThing(b)};f.Update=function(b,c){!1!==a.data.Read(b+"->HTMLElement")&&a.data.Write(b+"->HTMLElement",c)};f.Add=function(b,c,d){var e;a.component.IsComponentObject(c)?e=a.component.Fetch(c):(e=c,c=a.component.FetchComponentObject(e));var g,h=!1;if(a.component.IsComponentObject(d)){if("navbar"!=
c.type||"top"!=a.data.Read(c.id+"->Position")||"button"!=d.type&&"searchbox"!=d.type)"list"==c.type&&-1!==d.type.indexOf("list")?e=e.querySelector('div[data-syiro-minor-component="list-content"]'):g="undefined"!==typeof d.link?a.utilities.ElementCreator("a",{title:d.title,href:d.link,content:d.title}):a.component.Fetch(d);h=!0}else a.utilities.TypeOfThing(d,"Element")&&(g=d,h=!0);h&&null!==e&&null!==g&&("prepend"==b?e.insertBefore(g,e.firstChild):e.appendChild(g));"list"==c.type&&(e=e.parentElement);
a.component.Update(c.id,e);return h};f.Remove=function(b){var c=a.utilities.TypeOfThing(b),d;"ComponentObject"==c||"Element"==c?d=[b]:"Array"==c&&(d=b);for(b=0;b<d.length;b++){var c=d[b],e=a.utilities.TypeOfThing(c),g,h;"ComponentObject"==e?(g=c,h=a.component.Fetch(c)):"Element"==e&&(g=a.component.FetchComponentObject(c),h=c);"undefined"!==typeof h&&(c=h.parentElement,c.removeChild(h),!1!==a.data.Read(g.id)&&a.data.Delete(g.id),c.hasAttribute("data-syiro-component-id")&&a.component.Update(c.getAttribute("data-syiro-component-id"),
c))}}})(a.component||(a.component={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){var c={scaling:{}},d={id:a.component.IdGen("media-player"),type:"media-player"},e=a.utilities.ElementCreator("div",{"data-syiro-component-id":d.id,"data-syiro-component":"media-player","data-syiro-component-type":b.type,name:d.id}),g;g={preload:"metadata",UIWebView:"allowsInlineMediaPlayback",volume:"0.5"};"undefined"==typeof b.type&&(b.type="video");"undefined"!==typeof b.art&&(-1==navigator.userAgent.indexOf("iPhone")?c.BackgroundImage=b.art:g.poster=
b.art);if(-1==navigator.userAgent.indexOf("iPhone")){"boolean"==typeof b.ForceLiveUX&&b.ForceLiveUX&&(c.ForceLiveUX=!0);if("audio"==b.type){if(delete b.menu,"string"==typeof b.title||"string"==typeof b.artist)b["generate-content-info"]=!0}else if(a.utilities.TypeOfThing(b.menu,"ComponentObject")&&"list"==b.menu.type){var h=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"player-menu"});h.appendChild(a.utilities.ElementCreator("label",{content:"Menu"}));h.appendChild(a.component.Fetch(b.menu));
e.insertBefore(h,e.firstChild)}h=a.mediacontrol.New(b);h=a.component.Fetch(h);e.appendChild(h)}else g.NoUX=!0,g.controls="controls";a.utilities.TypeOfThing(b.height,"number")||(b.height="audio"==b.type?60:300);a.utilities.TypeOfThing(b.width,"number")||("audio"==b.type?b.width=400:a.utilities.TypeOfThing(b.height,"number")?b.width=1.77*b.height:b.width=b.height);for(var h=0,f=["height","width"];h<f.length;h++){var k=f[h],m=b[k];a.utilities.TypeOfThing(m,"number")&&(b[k]=m.toString()+"px");a.style.Set(e,
k,b[k])}g=a.utilities.ElementCreator(b.type,g);h=0;for(f=a.mediaplayer.GenerateSources(b.type,b.sources);h<f.length;h++)g.appendChild(f[h]);"boolean"==typeof b.UsingExternalLibrary&&b.UsingExternalLibrary&&(c.UsingExternalLibrary=!0);e.insertBefore(g,e.firstChild);c.HTMLElement=e;a.data.Write(d.id,c);return d};f.Configure=function(b){var c=a.component.Fetch(b);a.mediaplayer.FetchInnerContentElement(b);var d=c.querySelector('div[data-syiro-component="media-control"]');if(0==a.data.Read(b.id+"->NoUX")){"video"==
c.getAttribute("data-syiro-component-type")&&c.removeAttribute("data-syiro-show-video");var e=d.querySelector('div[data-syiro-render-icon="play"]');a.style.Set(e,"background-image","");e.removeAttribute("active");e=d.querySelector('div[data-syiro-render-icon="volume"]');null!==e&&e.removeAttribute("active");var g=a.mediaplayer.IsPlayable(b,!0),e=c.querySelector('div[data-syiro-minor-component="player-error"]');null==e&&(e=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"player-error",
content:"This content is not capable of being played on this browser or device."}),c.insertBefore(e,c.firstChild));c=d.querySelector("time");1==g||"streamable"==g?("streamable"==g?(a.data.Write(b.id+"->IsStreaming",!0),d.setAttribute("data-syiro-component-streamstyling",""),null!==c&&(c.setAttribute("data-syiro-component-live",""),c.textContent="Live")):(a.data.Delete(b.id+"->IsStreaming"),d.removeAttribute("data-syiro-component-streamstyling"),null!==c&&(c.removeAttribute("data-syiro-component-live"),
c.textContent="00:00",c=a.mediaplayer.GetPlayerLengthInfo(b),d=a.component.FetchComponentObject(d),a.mediacontrol.TimeLabelUpdater(d,1,c.max))),a.style.Set(e,"visibility","")):a.style.Set(e,"visibility","visible")}a.data.Delete(b.id+"->IsChangingInputValue");a.data.Delete(b.id+"->IsChangingVolume")};f.DurationChange=function(b){if(0==a.data.Read(b.id+"->IsStreaming")){var c=a.component.Fetch(b).querySelector('div[data-syiro-component="media-control"]'),d=a.component.FetchComponentObject(c),c=c.querySelector('div[data-syiro-minor-component="progressbar"] > input');
b=a.mediaplayer.GetPlayerLengthInfo(b);c.setAttribute("max",b.max);c.setAttribute("step",b.step);a.mediacontrol.TimeLabelUpdater(d,1,b.max)}};f.FetchInnerContentElement=function(b){b=a.component.Fetch(b);return b.querySelector(b.getAttribute("data-syiro-component-type"))};f.FetchSources=function(b){b=a.mediaplayer.FetchInnerContentElement(b).querySelectorAll("source");var c=[],d;for(d in b){var e=b[d];a.utilities.TypeOfThing(e,"Element")&&c.push({src:e.getAttribute("src"),streamable:e.getAttribute("data-syiro-streamable-source"),
type:e.getAttribute("type")})}return c};f.GenerateSources=function(b,c){for(var d=[],e=0;e<c.length;e++){var g=c[e],h=g.substr(0,g.indexOf(":")),f=g.substr(g.lastIndexOf(".")).replace(".",""),k={src:g,"data-syiro-streamable-source":"false"};";"!==g.substr(-1)&&("rtsp"==h||"rtmp"==h?(k["data-syiro-streamable-source"]="true",k.type=h+"/"+f):"m3u8"==f?(k["data-syiro-streamable-source"]="true",k.type="application/x-mpegurl"):("mov"==f&&(f="quicktime"),k.type=b+"/"+f),d.push(a.utilities.ElementCreator("source",
k)))}return d};f.GetPlayerLengthInfo=function(b){var c={};b=a.mediaplayer.FetchInnerContentElement(b).duration;0==isNaN(b)&&isFinite(b)?(c.max=b,c.step=60>b?1:60<b&&300>=b?5:300<b&&900>b?10:15):isNaN(b)?(c.max="Unknown",c.step=1):0==isFinite(b)&&(c.max="Streaming",c.step=1);return c};f.IsPlayable=function(b,c){a.component.Fetch(b);var d=a.mediaplayer.FetchInnerContentElement(b),e=!1,g=!1;if(a.data.Read(b.id+"->UsingExternalLibrary"))g=e=!0;else for(var h=0,f=a.mediaplayer.FetchSources(b);h<f.length;h++){var k=
f[h];if(""!==d.canPlayType(k.type)){e=!0;break}if(!g&&a.utilities.TypeOfThing(k.streamable,"string")&&"true"==k.streamable){g=!0;break}}return c&&g?"streamable":e?!0:!1};f.IsPlaying=function(b){a.component.Fetch(b);return!a.mediaplayer.FetchInnerContentElement(b).paused};f.IsStreamable=function(b){return"streamable"==a.mediaplayer.IsPlayable(b,!0)};f.PlayOrPause=function(b,c){var d=a.component.Fetch(b),e=a.mediaplayer.FetchInnerContentElement(b),g=a.utilities.TypeOfThing(c);"video"==d.getAttribute("data-syiro-component-type")&&
d.setAttribute("data-syiro-show-video","true");d="ComponentObject"==g?a.component.Fetch(c):"Element"!==g||"play"!==c.getAttribute("data-syiro-render-icon")?d.querySelector('div[data-syiro-render-icon="play"]'):c;a.mediaplayer.IsPlaying(b)?(e.pause(),d.removeAttribute("active")):(e.play(),d.setAttribute("active","pause"))};f.Reset=function(b){a.component.Fetch(b);var c=a.mediaplayer.FetchInnerContentElement(b);a.mediaplayer.IsPlaying(b)&&c.pause();a.mediaplayer.SetTime(b,0);a.mediaplayer.Configure(b)};
f.SetSources=function(b,c){a.component.Fetch(b);var d=a.mediaplayer.FetchInnerContentElement(b),e=d.nodeName.toLowerCase();"string"==typeof c&&(c=[c]);e=a.mediaplayer.GenerateSources(e,c);d.innerHTML="";for(var g=0;g<e.length;g++)d.appendChild(e[g]);d.setAttribute("src",c[0]);d.src=c[0];a.mediaplayer.Reset(b)};f.SetTime=function(b,c){if(0==a.data.Read(b.id+"->IsStreaming")){var d=a.component.Fetch(b),e=a.mediaplayer.FetchInnerContentElement(b),g=e.currentTime,h=g,f="string"==typeof c;!f&&g!==c&&c<=
e.duration&&(h=e.currentTime=c);d=d.querySelector('div[data-syiro-component="media-control"]');e=a.component.FetchComponentObject(d);d=d.querySelector('div[data-syiro-minor-component="progressbar"] > input');a.mediacontrol.TimeLabelUpdater(e,0,h);e=a.data.Read(b.id+"->IsChangingInputValue");g=!1;e&&!f?g=!0:!e&&f&&(g=!0);g&&(f=Math.floor(h),d.value=f,f=f/Number(d.max)*d.clientWidth,e="",0!==h&&(e="linear-gradient(to right, "+a.primaryColor+" "+f+"px, transparent 0px)"),a.style.Set(d,"background",e))}};
f.SetVolume=function(b,c,d){var e=a.component.Fetch(b);b=a.mediaplayer.FetchInnerContentElement(b);var e=e.querySelector('div[data-syiro-minor-component="progressbar"] > input'),g=c;"string"==typeof d&&"input"==d?(g*=10,c/=10):10<g&&100>=g?(g=10*Math.round(c/10),c/=100):1<g&&10>=g?(g*=10,c/=10):1>=g&&(g*=100);a.style.Set(e,"background","linear-gradient(to right, "+a.primaryColor+" "+g+"%, transparent 0px)");b.volume=c};f.ToggleFullscreen=function(b){b=a.component.Fetch(b);document.fullscreenElement||
document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?"undefined"!==typeof document.exitFullscreen?document.exitFullscreen():"undefined"!==typeof document.msExitFullscreen?document.msExitFullscreen():"undefined"!==typeof document.mozCancelFullScreen?document.mozCancelFullScreen():"undefined"!==typeof document.webkitExitFullscreen&&document.webkitExitFullscreen():"undefined"!==typeof b.requestFullscreen?b.requestFullscreen():"undefined"!==typeof b.msRequestFullscreen?
b.msRequestFullscreen():"undefined"!==typeof b.mozRequestFullScreen?b.mozRequestFullScreen():"undefined"!==typeof b.webkitRequestFullscreen&&b.webkitRequestFullscreen()};f.ToggleMenuDialog=function(b){var c=a.component.Fetch(b);b=c.querySelector('div[data-syiro-minor-component="player-menu"]');c=c.querySelector('div[data-syiro-render-icon="menu"]');"visible"!==a.style.Get(b,"visibility")?(c.setAttribute("active","true"),a.style.Set(b,"visibility","visible")):(c.removeAttribute("active"),a.style.Set(b,
"visibility",""))}})(a.mediaplayer||(a.mediaplayer={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){var c={id:a.component.IdGen("media-control"),type:"media-control"},d=a.utilities.ElementCreator("div",{"data-syiro-component":c.type,"data-syiro-component-id":c.id}),e=a.button.New({icon:"play"}),g=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"progressbar"}),h=a.utilities.ElementCreator("input",{type:"range",value:"0"});g.appendChild(h);d.appendChild(g);d.appendChild(a.component.Fetch(e));"undefined"!==typeof b["generate-content-info"]?
(e=document.createElement("section"),"undefined"!==typeof b.title&&e.appendChild(a.utilities.ElementCreator("b",{content:b.title})),"undefined"!==typeof b.artist&&e.appendChild(a.utilities.ElementCreator("label",{content:b.artist})),d.appendChild(e)):"video"==b.type&&(e=a.utilities.ElementCreator("time",{content:"00:00 / 00:00"}),d.appendChild(e));a.utilities.TypeOfThing(b.menu,"ComponentObject")&&"list"==b.menu.type&&(e=a.button.New({icon:"menu"}),d.appendChild(a.component.Fetch(e)));"video"==b.type&&
(b=a.button.New({icon:"fullscreen"}),d.appendChild(a.component.Fetch(b)));"iOS"!==a.device.OperatingSystem&&(b=a.button.New({icon:"volume"}),d.appendChild(a.component.Fetch(b)));a.data.Write(c.id+"->HTMLElement",d);return c};f.ShowVolumeSlider=function(b,c){var d=a.component.Fetch(b),e=a.component.Fetch(c),g=a.component.FetchComponentObject(d.parentElement),h=a.mediaplayer.FetchInnerContentElement(g),f=d.querySelector('div[data-syiro-minor-component="progressbar"] > input');0==a.data.Read(g.id+"->IsChangingVolume")?
(a.data.Write(g.id+"->IsChangingInputValue",!0),a.data.Write(g.id+"->IsChangingVolume",!0),e.setAttribute("active","true"),a.data.Read(g.id+"->IsStreaming")&&d.removeAttribute("data-syiro-component-streamstyling"),f.setAttribute("max","10"),f.setAttribute("step","1"),a.mediaplayer.SetVolume(g,h.volume)):(e.removeAttribute("active"),a.data.Read(g.id+"->IsStreaming")&&d.setAttribute("data-syiro-component-streamstyling",""),d=a.mediaplayer.GetPlayerLengthInfo(g),f.setAttribute("max",d.max),f.setAttribute("step",
d.step),a.data.Delete(g.id+"->IsChangingInputValue"),a.data.Delete(g.id+"->IsChangingVolume"),a.mediaplayer.SetTime(g,"update-input"))};f.TimeLabelUpdater=function(b,c,d){b=a.component.Fetch(b).querySelector("time");if(null!==b){var e="";if("number"==typeof d){d=a.utilities.SecondsToTimeFormat(d);for(var g in d)var f=d[g],e=0!==e.length?e+":"+f:f}else e=d;g=b.textContent.split(" / ");g[c]=e;b.textContent=g[0]+" / "+g[1]}};f.Toggle=function(b,c){var d=a.component.Fetch(b),e;d.hasAttribute("data-syiro-animation")&&
(e=d.getAttribute("data-syiro-animation"));"boolean"!==typeof c&&(c=null);if(c)a.animation.FadeIn(b);else if(0==c)a.animation.FadeOut(b);else if("undefined"==typeof c||null==c)"fade-out"==e||0==d.hasAttribute("data-syiro-animation")?a.animation.FadeIn(b):a.animation.FadeOut(b)}})(a.mediacontrol||(a.mediacontrol={}))})(syiro||(syiro={}));
(function(a){(function(f){f.Parser=function(b){if(null!==b.localName&&a.utilities.TypeOfThing(b.hasAttribute,"function")&&b.hasAttribute("data-syiro-component")){var c=a.component.FetchComponentObject(b);switch(c.type){case "button":"basic"!==b.getAttribute("data-syiro-component-type")&&a.events.Add(a.events.Strings.up,c,a.button.Toggle);break;case "buttongroup":a.init.Buttongroup(c);break;case "grid":a.init.Grid(c);break;case "list":a.init.List(c);break;case "media-player":a.init.MediaPlayer(c);
break;case "searchbox":a.init.Searchbox(c);break;case "sidepane":a.init.Sidepane(c);break;case "toast":a.init.Toast(c)}var d=0;for(b=b.querySelectorAll("div[data-syiro-component]");d<b.length;d++)a.init.Parser(b[d]);a.data.Delete(c.id+"->HTMLElement")}};f.createContentOverlay=function(b){b=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"overlay","data-syiro-overlay-purpose":b});document.body.appendChild(b);return b};f.Buttongroup=function(b){var c=0;for(b=a.component.Fetch(b).querySelectorAll('div[data-syiro-component="button"]');c<
b.length;c++){var d=a.component.FetchComponentObject(b[c]);a.events.Add(a.events.Strings.up,d,a.buttongroup.Toggle)}};f.Grid=function(b){a.events.Add(a.events.Strings.orientationchange,a.device.OrientationObject,a.grid.Scale.bind(this,b));a.events.Add("resize",window,a.grid.Scale.bind(this,b));a.grid.Scale(b)};f.List=function(b){b=a.component.Fetch(b);"list-content"==b.parentElement.getAttribute("data-syiro-minor-component")&&(b=b.querySelector('div[data-syiro-minor-component="list-header"]'),a.events.Add(a.events.Strings.up,
b,a.list.Toggle))};f.MediaPlayer=function(b){if(0==a.data.Read(b.id+"->NoUX")){var c=a.component.Fetch(b),d=a.mediaplayer.FetchInnerContentElement(b),e=c.querySelector('div[data-syiro-component="media-control"]'),e=a.component.FetchComponentObject(e);a.events.Add("contextmenu",d,function(a,b){b.preventDefault()});a.events.Add("durationchange",d,a.mediaplayer.DurationChange.bind(this,b));a.events.Add("timeupdate",d,function(b){a.mediaplayer.SetTime(b,"update-input")}.bind(this,b));a.events.Add("ended",
d,a.mediaplayer.Reset.bind(this,b));a.init.MediaControl(b,e);"video"==c.getAttribute("data-syiro-component-type")&&(a.device.SupportsTouch?a.events.Add(a.events.Strings.up,b,a.mediacontrol.Toggle.bind(this,e)):(a.events.Add(a.events.Strings.up,d,a.mediaplayer.PlayOrPause.bind(this,b)),a.events.Add(["mouseenter","mouseleave"],c,a.mediacontrol.Toggle.bind(this,e))));a.utilities.Run(function(b,c){var d=a.data.Read(b.id+"->BackgroundImage");!1!==d&&a.style.Set(c,"background-image",'url("'+d+'")')}.bind(this,
b,c));a.mediaplayer.Configure(b)}};f.MediaControl=function(b,c){var d=a.component.Fetch(c),e=d.querySelector('div[data-syiro-minor-component="progressbar"] > input');a.events.Add(a.events.Strings.down,e,function(b){a.data.Write(b.id+"->IsChangingInputValue",!0)}.bind(this,b));a.events.Add(a.events.Strings.up,e,function(b,c){0==a.data.Read(b.id+"->IsChangingVolume")&&(a.data.Delete(b.id+"->IsChangingInputValue"),a.mediaplayer.IsPlaying(b)||a.mediaplayer.PlayOrPause(b,!0))}.bind(this,b));a.events.Add("input",
e,function(b,c){var d=Number(c.value);!0!==a.data.Read(b.id+"->IsChangingVolume")?a.mediaplayer.SetTime(b,d):a.mediaplayer.SetVolume(b,d,"input")}.bind(this,b));e=d.querySelector('div[data-syiro-render-icon="play"]');a.events.Add(a.events.Strings.up,e,a.mediaplayer.PlayOrPause.bind(this,b));e=d.querySelector('div[data-syiro-render-icon="volume"]');e=a.component.FetchComponentObject(e);a.events.Add(a.events.Strings.up,e,a.mediacontrol.ShowVolumeSlider.bind(this,c));e=d.querySelector('div[data-syiro-render-icon="menu"]');
null!==e&&(e=a.component.FetchComponentObject(e),a.events.Add(a.events.Strings.up,e,a.mediaplayer.ToggleMenuDialog.bind(this,b)));d=d.querySelector('div[data-syiro-render-icon="fullscreen"]');null!==d&&a.events.Add(a.events.Strings.up,d,a.mediaplayer.ToggleFullscreen.bind(this,b))};f.Searchbox=function(b){var c=a.component.Fetch(b);!1!==a.data.Read(b.id+"->suggestions")&&(a.events.Add("keyup",c.querySelector("input"),a.searchbox.Suggestions),a.events.Add("blur",c.querySelector("input"),function(b){b=
a.component.FetchLinkedListComponentObject(b);a.style.Set(b,"visibility","hidden")}.bind(this,b)));c=c.querySelector('div[data-syiro-component="button"]');a.events.Add(a.events.Strings.up,c,function(b){a.component.Fetch(b).querySelector("input");a.events.Trigger("input",b)}.bind(this,b))};f.Sidepane=function(b){var c=a.component.Fetch(b),d=document.querySelector('div[data-syiro-component="overlay"][data-syiro-overlay-purpose="sidepane"]'),c=c.querySelector('div[data-syiro-minor-component="sidepane-edge"]');
a.events.Add(a.events.Strings.down,c,a.sidepane.GestureInit);null==d&&(d=a.init.createContentOverlay("sidepane"),a.events.Add(a.events.Strings.down,d,function(b,c){a.events.Add(a.events.Strings.up,c,function(b,c){a.sidepane.Toggle(b);a.events.Remove(a.events.Strings.up,c)}.bind(this,b))}.bind(this,b)))};f.Toast=function(b){var c=a.component.Fetch(b),d=a.data.Read(b.id+"->ActionHandlers"),e=c.querySelectorAll('div[data-syiro-component="button"]');"dialog"==c.getAttribute("data-syiro-component-type")&&
null==document.querySelector('div[data-syiro-component="overlay"][data-syiro-overlay-purpose="toast"]')&&a.init.createContentOverlay("toast");for(c=0;c<e.length;c++){var g=e[c],f=a.component.FetchComponentObject(g),g=g.getAttribute("data-syiro-dialog-action");a.events.Add(a.events.Strings.up,f,a.toast.Toggle.bind(this,b));!1!==d&&"undefined"!==typeof d[g]&&a.events.Add(a.events.Strings.up,f,d[g])}!1!==d&&a.data.Delete(b.id+"->ActionHandlers")}})(a.init||(a.init={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){var c={id:a.component.IdGen("grid"),type:"grid"},d;d=a.utilities.TypeOfThing(b.columns,"number")?b.columns.toString():"dynamic";d=a.utilities.ElementCreator("div",{"data-syiro-component-id":c.id,"data-syiro-component":"grid","data-syiro-render-columns":d});if(a.utilities.TypeOfThing(b.items,"Array")){var e=0;for(b=b.items;e<b.length;e++){var g=a.griditem.New(b[e]),g=a.component.Fetch(g);d.appendChild(g)}}a.data.Write(c.id+"->HTMLElement",d);return c};f.Scale=
function(b){if(a.utilities.TypeOfThing(b,"ComponentObject")&&"grid"==b.type){b=a.component.Fetch(b);var c=a.component.FetchDimensionsAndPosition(b).width,d=b.getAttribute("data-syiro-render-columns");if(null!==b.querySelector('div[data-syiro-component="grid-item"]:first-of-type')&&"dynamic"!==d)for(d=Number(d),b=b.querySelectorAll('div[data-syiro-component="grid-item"]'),c=c/d-.03*c,d=0;d<b.length;d++)a.style.Set(b[d],"width",c.toString()+"px")}}})(a.grid||(a.grid={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){var c;if(a.utilities.TypeOfThing(b.html,"Element")||a.utilities.TypeOfThing(b.html,"string")){c={id:a.component.IdGen("grid-item"),type:"grid-item"};var d=a.utilities.ElementCreator("div",{"data-syiro-component-id":c.id,"data-syiro-component":"grid-item"});b.html=a.utilities.SanitizeHTML(b.html);a.utilities.TypeOfThing(b.html,"Element")?d.appendChild(b.html):d.innerHTML=b.html;a.data.Write(c.id+"->HTMLElement",d)}return c}})(a.griditem||(a.griditem={}))})(syiro||
(syiro={}));
(function(a){(function(f){f.New=function(b){var c;c="string"!==typeof b.position||"top"!==b.position&&"bottom"!==b.position?"top":b.position;var d=a.component.IdGen("navbar"),e=a.utilities.ElementCreator("div",{"data-syiro-component":"navbar","data-syiro-component-id":d,role:"navigation","data-syiro-component-type":c}),g;for(g in b)if("items"==g)for(var f=0,l=b.items;f<l.length;f++){var k=l[f],m=a.utilities.TypeOfThing(k);"LinkPropertiesObject"==m?(k=a.utilities.ElementCreator("a",{href:k.link,content:k.title}),
e.appendChild(k)):"ComponentObject"==m&&"top"==c&&e.appendChild(a.component.Fetch(k))}else"logo"==g&&"top"==c?(k=a.utilities.ElementCreator("img",{"data-syiro-minor-component":"logo",src:b.logo}),e.appendChild(k)):"content"==g&&"bottom"==c&&(f="",f="undefined"!==typeof b.content?b.content:b.label,k=a.utilities.ElementCreator("label",{content:f}),e.insertBefore(k,e.firstChild));"boolean"==typeof b.fixed&&b.fixed&&e.setAttribute("data-syiro-position","fixed");a.data.Write(d+"->Position",c);a.data.Write(d+
"->HTMLElement",e);return{id:d,type:"navbar"}};f.AddLink=function(b,c,d){var e=!1;if(a.component.IsComponentObject("ComponentObject")&&"navbar"==c.type){var g=a.utilities.TypeOfThing(d),f;"LinkPropertiesObject"==g?f=a.utilities.ElementCreator("a",{href:d.link,content:d.title}):"Element"==g&&"A"==d.nodeName&&(f=d);"undefined"!==typeof f&&(e=!0,a.component.Add(b,c,f))}return e};f.RemoveLink=function(b,c){var d=!1;if(a.component.IsComponentObject(b)&&"navbar"==b.type){var e=a.component.Fetch(b),g=a.utilities.TypeOfThing(c),
f;"LinkPropertiesObject"==g?f=e.querySelector('a[href="'+c.link+'"]'):"Element"==g&&"A"==c.nodeName&&(f=c);"undefined"!==typeof f&&(d=!0,a.component.Remove(f))}return d};f.SetLogo=function(b,c){var d=!1;if(a.component.IsComponentObject(b)&&"navbar"==b.type&&"top"==a.data.Read(b.id+"->Position")){var d=a.component.Fetch(b),e=d.querySelector('img[data-syiro-minor-component="logo"]');""!==c?(null==e&&(e=document.createElement("img"),d.insertBefore(e,d.firstChild)),e.setAttribute("src",a.utilities.SanitizeHTML(c)),
a.component.Update(b.id,d)):""==c&&null!==e&&a.component.Remove(e);d=!0}return d};f.SetLabel=function(b,c){var d=!1;if(a.component.IsComponentObject(b)&&"navbar"==b.type&&"bottom"==a.data.Read(b.id+"->Position")){var d=a.component.Fetch(b),e=d.querySelector("label");""!==c?(null==e&&(e=document.createElement("label"),d.insertBefore(e,d.firstChild)),e.textContent=a.utilities.SanitizeHTML(c),a.component.Update(b.id,d)):""==c&&null!==e&&a.component.Remove(e);d=!0}return d}})(a.navbar||(a.navbar={}))})(syiro||
(syiro={}));
(function(a){(function(f){f.New=function(b){var c=a.component.IdGen("list"),d=a.utilities.ElementCreator("div",{"data-syiro-component":"list","data-syiro-component-id":c,"aria-live":"polite",id:c,role:"listbox"});if(a.utilities.TypeOfThing(b.items,"Array")&&0<b.items.length){if(a.utilities.TypeOfThing(b.header,"string")){var e=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"list-header",content:b.header});d.appendChild(e)}var e=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"list-content"}),g=
0;for(b=b.items;g<b.length;g++){var f=b[g],l=f;if("Object"==a.utilities.TypeOfThing(f))var l=a.utilities.TypeOfThing(f.header),k=a.utilities.TypeOfThing(f.item),l="string"==l&&"Array"==k?a.list.New(f):a.listitem.New(f);a.utilities.TypeOfThing(l,"ComponentObject")&&e.appendChild(a.component.Fetch(l))}d.appendChild(e)}a.data.Write(c+"->HTMLElement",d);return{id:c,type:"list"}};f.SetHeader=function(b,c){var d=a.component.Fetch(b),e=d.querySelector('div[data-syiro-minor-component="list-header"]'),g=a.utilities.TypeOfThing(c);
if("string"==g||"Element"==g)null==e&&(e=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"list-header"}),d.insertBefore(e,d.firstChild)),c=a.utilities.SanitizeHTML(c),"string"==g?""!==c?e.innerHTML=c:d.removeChild(e):(e.innerHTML="",e.appendChild(c));a.component.Update(b.id,d)};f.Toggle=function(b){var c;a.utilities.TypeOfThing(b,"ComponentObject")?c=a.component.Fetch(b):a.utilities.TypeOfThing(b,"Element")&&(c=b.parentElement);"undefined"!==typeof c&&null!==c&&!1!==c&&"list-content"==
c.parentElement.getAttribute("data-syiro-minor-component")&&(b=c.querySelector('div[data-syiro-minor-component="list-header"]'),c=c.querySelector('div[data-syiro-minor-component="list-content"]'),"block"!==a.style.Get(c,"display")?(b.setAttribute("active",""),a.style.Set(c,"display","block")):(b.removeAttribute("active"),a.style.Set(c,"display","")))};f.AddItem=a.component.Add;f.RemoveItem=a.component.Remove})(a.list||(a.list={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){var c=a.component.IdGen("list-item"),d=a.utilities.ElementCreator("div",{"data-syiro-component":"list-item","data-syiro-component-id":c,role:"option"}),e;if(a.utilities.TypeOfThing(b.html,"Element"))d.setAttribute("data-syiro-nonstrict-formatting",""),e=b.html,d.innerHTML=a.utilities.SanitizeHTML(e).outerHTML;else for(var g in b){var f=!1,l=b[g];"control"!=g||a.utilities.TypeOfThing(b.image,"string")?"image"==g&&"undefined"==typeof b.control?e=a.utilities.ElementCreator("img",
{src:l}):"label"==g&&"undefined"==typeof b.link?(e=a.utilities.ElementCreator("label",{content:l}),null!==d.querySelector("img")&&(f=!0)):"link"==g&&"undefined"==typeof b.control&&"undefined"==typeof b.label&&(f=!0,e=a.utilities.ElementCreator("a",{href:l.link,content:l.title})):"button"==l.type&&(e=a.component.Fetch(l),f=!0);f?d.appendChild(e):d.insertBefore(e,d.firstChild)}a.data.Write(c+"->HTMLElement",d);return{id:c,type:"list-item"}};f.SetControl=function(b,c){var d=!1;if(a.utilities.TypeOfThing(b,
"ComponentObject")&&"list-item"==b.type&&a.component.IsComponentObject(c)&&"button"==c.type){d=a.component.Fetch(b);null!==d.querySelector("div")&&d.removeChild(d.querySelector("div"));var e=d.querySelector("img");null!==e&&a.component.Remove(e);e=d.querySelector("a");null!==d.querySelector("a")&&a.component.Remove(e);a.events.Remove(a.events.Strings.up,b);a.component.Add("append",b,c);d=!0}return d};f.SetImage=function(b,c){var d=!1;if(a.utilities.TypeOfThing(b,"ComponentObject")&&"list-item"==b.type&&
"string"==typeof c){d=a.component.Fetch(b);d.querySelector("label");var e=d.querySelector("img");if(""!==c){var g=d.querySelector('div[data-syiro-component="button"]');null!==g&&a.component.Remove(g);null==e&&(e=document.createElement("img"),a.component.Add("prepend",b,e));e.setAttribute("src",a.utilities.SanitizeHTML(c));a.component.Update(b.id,d)}else""==c&&null!==e&&a.component.Remove(e);d=!0}return d};f.SetLabel=function(b,c){var d=!1;if(a.utilities.TypeOfThing(b,"ComponentObject")&&"list-item"==
b.type&&"string"==typeof c){var d=a.component.Fetch(b),e=d.querySelector("label");if(""!==c){var g=d.querySelector("img"),f=d.querySelector('div[data-syiro-component="button"]');null!==g&&null!==f&&a.component.Remove(f);f=d.querySelector("a");null!==f&&a.component.Remove(f);null==e&&(e=document.createElement("label"),null!==g?a.component.Add("append",b,e):a.component.Add("prepend",b,e));e.textContent=a.utilities.SanitizeHTML(c)}else""==c&&null!==e&&a.component.Remove(e);a.component.Update(b.id,d);
d=!0}return d};f.SetLink=function(b,c){var d=!1;if(a.utilities.TypeOfThing(b,"ComponentObject")&&"list-item"==b.type){var e=a.component.Fetch(b),g=e.querySelector("a");a.utilities.TypeOfThing(c,"LinkPropertiesObject")?(d=!0,null!==g?(g.setAttribute("href",c.link),g.setAttribute("title",c.title)):(g=e.querySelector("div[data-syiro-component]"),null!==g&&a.component.Remove(g),e=e.querySelector("label"),null!==e&&a.component.Remove(e),g=a.utilities.ElementCreator("a",{href:c.link,content:c.title}),a.component.Add("append",
b,g))):""==c&&(d=!0,a.component.Remove(g))}return d}})(a.listitem||(a.listitem={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){var c=a.component.IdGen("searchbox"),d={},e={"data-syiro-component":"searchbox","data-syiro-component-id":c};"undefined"==typeof b&&(b={});"undefined"==typeof b.content&&(b.content="Search here...");"boolean"==typeof b.DisableInputTrigger&&1==b.DisableInputTrigger&&(d.DisableInputTrigger=!0);var g=a.utilities.ElementCreator("input",{"aria-autocomplete":"list",role:"textbox",placeholder:b.content}),f=a.button.New({icon:"search"});if("undefined"!==typeof b.suggestions&&
b.suggestions){d.suggestions="enabled";d.handlers={"list-item-handler":b["list-item-handler"]};var l=[];if("object"==typeof b.preseed){d.preseed=!0;for(var k in b.preseed)l.push(a.listitem.New({label:b.preseed[k]}))}else d.handlers.suggestions=b.handler,d.preseed=!1;k=a.list.New({items:l});var m=a.component.Fetch(k);e["aria-owns"]=k.id;m.setAttribute("data-syiro-component-owner",c);document.body.appendChild(m);if("undefined"!==typeof b.preseed)for(var n in l)a.events.Add(a.events.Strings.up,l[n],
b["list-item-handler"])}b=a.utilities.ElementCreator("div",e);b.appendChild(g);b.appendChild(a.component.Fetch(f));d.HTMLElement=b;a.data.Write(c,d);return{id:c,type:"searchbox"}};f.Suggestions=function(){for(var b=0;b<arguments.length;b++);var c,d;2==arguments.length?(c=arguments[0].parentElement,d=arguments[1]):2<arguments.length&&(c=arguments[0],d=c.querySelector("input").value);var e=a.component.FetchComponentObject(c),g=a.component.FetchLinkedListComponentObject(e),b=a.component.Fetch(g),f=b.querySelectorAll('div[data-syiro-component="list-item"]');
a.style.Set(b,"width",c.clientWidth+"px");a.render.Position(["below","center"],g,e);if(""!==d)if(a.data.Read(e.id+"->preseed")){if(a.style.Set(b,"visibility","visible"),0<f.length){for(var l=0,e=0;e<f.length;e++)g=f[e],a.utilities.TypeOfThing(g,"Element")&&(-1!==g.textContent.indexOf(d)?(l++,a.style.Set(g,"display","block")):a.style.Set(g,"display","none"));0==l&&a.style.Set(b,"visibility","hidden")}}else{if(a.style.Set(b,"visibility","hidden"),d=a.data.Read(e.id+"->handlers->suggestions").call(this,
d),0!==d.length){0<f.length&&a.component.Remove(f);for(l in d)f=a.listitem.New({label:d[l]}),a.list.AddItem("append",g,f),a.events.Add(a.events.Strings.up,f,a.data.Read(e.id+"handlers->list-item-handler"));a.style.Set(b,"visibility","visible")}}else a.style.Set(b,"visibility","hidden")};f.SetText=function(b,c){var d=a.component.Fetch(b);if(null!==d){var e=d.querySelectorAll("input")[0];""!==c?e.setAttribute("placeholder",c):""==c&&e.removeAttribute("placeholder");a.component.Update(b.id,d)}}})(a.searchbox||
(a.searchbox={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){var c=a.component.IdGen("sidepane"),d=a.utilities.ElementCreator("div",{"data-syiro-component-id":c,"data-syiro-component":"sidepane"}),e=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"sidepane-content"}),g=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"sidepane-lists"}),f=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"sidepane-edge"});d.appendChild(e);e.appendChild(g);d.appendChild(f);if(a.utilities.TypeOfThing(b.logo,
"Element")||"string"==typeof b.logo)f=b.logo,"string"==typeof b.logo&&(f=a.utilities.ElementCreator("img",{src:b.logo})),e.insertBefore(f,g);a.utilities.TypeOfThing(b.searchbox,"ComponentObject")&&(f=a.component.Fetch(b.searchbox),e.insertBefore(f,g));e=0;for(b=b.items;e<b.length;e++){var f=b[e],l=a.utilities.TypeOfThing(f),k;"ComponentObject"==l?k=a.component.Fetch(f):"Element"==l&&(k=a.utilities.SanitizeHTML(f));g.appendChild(k)}a.data.Write(c+"->HTMLElement",d);return{id:c,type:"sidepane"}};f.GestureInit=
function(b,c){var d=b.parentElement,e;e="undefined"!==typeof c.touches?b:document;a.events.Add(a.events.Strings.move,e,a.sidepane.Drag.bind(this,b));a.events.Add(a.events.Strings.up,e,a.sidepane.Release.bind(this,b));d.removeAttribute("data-syiro-animation");d.setAttribute("data-syiro-render-animation","false");d=document.body.querySelector('div[data-syiro-minor-component="overlay"][data-syiro-overlay-purpose="sidepane"]');a.style.Set(d,"display","block")};f.Drag=function(b,c,d){b=b.parentElement;
d=("undefined"!==typeof d.touches?d.touches[0].screenX:d.clientX)-b.offsetWidth;0<d&&(d=0);a.style.Set(b,"transform","translateX("+d.toString()+"px)");a.style.Set(b,"-webkit-transform","translateX("+d.toString()+"px)")};f.Release=function(b,c,d){b=a.component.FetchComponentObject(b.parentElement);a.sidepane.Toggle(b,d);a.events.Remove(a.events.Strings.move,c);a.events.Remove(a.events.Strings.up,c)};f.Toggle=function(b,c){if(a.component.IsComponentObject(b)&&"sidepane"==b.type){var d=a.component.Fetch(b),
e=document.body.querySelector('div[data-syiro-minor-component="overlay"][data-syiro-overlay-purpose="sidepane"]'),f=!1;if(0==d.hasAttribute("data-syiro-animation")){var h=a.style.Get(b,"transform");"undefined"===typeof c||"undefined"===typeof c.changedTouches&&"undefined"===typeof c.screenX?!1!==h?f=Number(h.replace("translateX(-","").replace("px)",""))<d.clientWidth/2:"undefined"==typeof c&&(f=!0):f=("undefined"!==typeof c.changedTouches?c.changedTouches[0].screenX:c.clientX)>d.clientWidth/2}d.removeAttribute("data-syiro-render-animation");
a.style.Set(d,"transform","");a.style.Set(d,"-webkit-transform","");f?(a.animation.Slide(b),a.style.Set(e,"display","block")):(a.animation.Reset(b),a.style.Set(e,"display",""))}}})(a.sidepane||(a.sidepane={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){if("undefined"==typeof b.type||"normal"!==b.type&&"dialog"!==b.type)b.type="normal";"undefined"==typeof b.title&&"dialog"==b.type&&(b.type="normal");var c=a.component.IdGen("toast"),d=a.utilities.ElementCreator("div",{"data-syiro-component-id":c,"data-syiro-component":"toast","data-syiro-component-type":b.type});if("undefined"!==typeof b.title)if("undefined"!==typeof b.message){var e=a.utilities.ElementCreator("label",{content:b.title});d.appendChild(e)}else b.message=
b.title,delete b.title;e=a.utilities.ElementCreator("span",{content:b.message});d.appendChild(e);if("undefined"!==typeof b.title){var e=a.utilities.ElementCreator("div",{"data-syiro-minor-component":"toast-buttons"}),f={};"undefined"==typeof b.buttons&&(b.buttons=[{action:"deny",content:"Ok"}]);"affirm"==b.buttons[0].action&&b.buttons.reverse();var h=0;for(b=b.buttons;h<b.length;h++){var l=b[h];"undefined"==typeof l.content&&(l.content="deny"==l.action?"No":"Yes");"undefined"!==typeof l["function"]&&
(f[l.action]=l["function"]);var k=a.button.New({type:"basic",content:l.content}),k=a.component.Fetch(k);k.setAttribute("data-syiro-dialog-action",l.action);e.appendChild(k)}d.appendChild(e);0!==Object.keys(f).length&&a.data.Write(c+"->ActionHandlers",f)}else e=a.button.New({type:"basic",content:"x"}),d.appendChild(a.component.Fetch(e));a.data.Write(c+"->HTMLElement",d);return{id:c,type:"toast"}};f.Clear=function(b){null!==a.component.Fetch(b)&&(a.toast.Toggle(b,"hide"),a.component.Remove(b))};f.ClearAll=
function(){var b=document.body.querySelectorAll('div[data-syiro-component="toast"]');if(0!==b.length)for(var c in b)if(a.utilities.TypeOfThing(b[c],"Element")){var d=a.component.FetchComponentObject(b[c]);a.toast.Clear(d)}};f.Toggle=function(b,c){var d=a.component.Fetch(b);if(null!==d){var e=d.getAttribute("data-syiro-animation"),f=!0,d=d.getAttribute("data-syiro-component-type");document.querySelector('div[data-syiro-minor-component="overlay"][data-syiro-overlay-purpose="toast"]');"string"!==typeof c?
"normal"==d?1024<a.device.width&&"slide"==e?f=!1:1024>=a.device.width&&("fade-in"==e||"slide"==e)&&(f=!1):"dialog"==d&&(f="fade-in"!=e):f="hide"!=c;f&&1024<a.device.width&&"normal"==d?a.animation.Slide(b):f&&(1024>=a.device.width&&"normal"==d||"dialog"==d)?a.animation.FadeIn(b,function(){if("dialog"==a.component.Fetch(b).getAttribute("data-syiro-component-type")){var c=document.querySelector('div[data-syiro-minor-component="overlay"][data-syiro-overlay-purpose="toast"]');a.style.Set(c,"display","block")}}):
0==f&&1024<a.device.width&&"normal"==d?a.animation.Reset(b):0==f&&(1024>=a.device.width&&"normal"==d||"dialog"==d)&&a.animation.FadeOut(b,function(){if("dialog"==a.component.Fetch(b).getAttribute("data-syiro-component-type")){var c=document.querySelector('div[data-syiro-minor-component="overlay"][data-syiro-overlay-purpose="toast"]');a.style.Set(c,"display","")}})}}})(a.toast||(a.toast={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){"undefined"==typeof b.type&&(b.type="basic",a.utilities.TypeOfThing(b.list,"ComponentObject")||a.utilities.TypeOfThing(b.items,"Array"))&&(b.type="dropdown");var c=a.component.IdGen("button"),d;d={"data-syiro-component":"button","data-syiro-component-id":c,"data-syiro-component-type":b.type};if("toggle"!==b.type){d.content="";"dropdown"==b.type&&(d["data-syiro-render-icon"]="menu");"string"==typeof b.icon&&""!==b.icon&&(d["data-syiro-render-icon"]=b.icon,
-1!==b.icon.indexOf(".")&&(d["data-syiro-render-icon"]="custom",d.style='background-image: url("'+b.icon+'")'));delete b.icon;if("string"==typeof b.image){var e=a.utilities.ElementCreator("img",{src:b.image});b.content=e.outerHTML+b.content;delete b.image}"string"==typeof b.content&&(d.content=b.content,delete b.content)}if("dropdown"==b.type){e=b.list;delete b.list;"undefined"!==typeof b.items&&(e=a.list.New({items:b.items}),delete b.items);var f=a.component.Fetch(e);document.body.appendChild(f);
f.setAttribute("data-syiro-component-owner",c);d["aria-owns"]=e.id;a.utilities.TypeOfThing(b.position,"Array")||(b.position=["below","center"]);a.data.Write(e.id+"->render",b.position);delete b.position}else"toggle"==b.type&&(e={"data-syiro-minor-component":"buttonToggle"},a.utilities.TypeOfThing(b["default"],"boolean")&&b["default"]&&(e["data-syiro-component-status"]="true",delete b["default"]),d.content=a.utilities.ElementCreator("div",e));delete b.type;d=a.utilities.ElementCreator("div",d);if(0!==
Object.keys(b).length)for(var h in b)d.setAttribute(h,b[h]);a.data.Write(c+"->HTMLElement",d);return{id:c,type:"button"}};f.SetIcon=function(b,c){var d=!1,e=a.component.Fetch(b);null!==e&&"toggle"!==e.getAttribute("data-syiro-component-type")&&(""!==c?(a.style.Set(e,"background-image",'url("'+c+'")'),e.setAttribute("data-syiro-render-icon","custom")):(a.style.Set(e,"background-image",""),e.removeAttribute("data-syiro-render-icon")),a.component.Update(b.id+"->HTMLElement",e),d=!0);return d};f.SetImage=
function(b,c){var d=!1,e=a.component.Fetch(b);null!==e&&"toggle"!==e.getAttribute("data-syiro-component-type")&&(d=e.querySelector("img"),""!==c?(null==d&&(d=document.createElement("img"),e.insertBefore(d,e.firstChild)),d.setAttribute("src",c),a.component.Update(b.id,e)):""==c&&null!==d&&a.component.Remove(d),d=!0);return d};f.SetText=function(b,c){var d=!1,e=a.component.Fetch(b);null!==e&&"toggle"!==e.getAttribute("data-syiro-component-type")&&(e.textContent=c,a.component.Update(b.id,e),d=!0);return d};
f.Toggle=function(b,c){var d=a.component.Fetch(b);if("dropdown"==d.getAttribute("data-syiro-component-type")){var e=a.component.FetchLinkedListComponentObject(b),f=a.component.Fetch(e);if(""!==a.style.Get(f,"visibility"))d.removeAttribute("active"),a.style.Set(f,"visibility","");else{var h=a.data.Read(e.id+"->render");a.render.Position(h,e,b);d.setAttribute("active","");a.style.Set(f,"visibility","visible")}}else"toggle"==d.getAttribute("data-syiro-component-type")&&(a.utilities.TypeOfThing(c,"MouseEvent")&&
(c=d.hasAttribute("active")),c?(a.animation.Reset(b),d.removeAttribute("active")):(a.animation.Slide(b),d.setAttribute("active","true")))}})(a.button||(a.button={}))})(syiro||(syiro={}));
(function(a){(function(f){f.New=function(b){var c;if(a.utilities.TypeOfThing(b.items,"Array")&&1<b.items.length){c=a.component.IdGen("buttongroup");for(var d=a.utilities.ElementCreator("div",{"data-syiro-component":"buttongroup","data-syiro-component-id":c}),e=0,f=b.items;e<f.length;e++){var h=f[e];"Object"==a.utilities.TypeOfThing(h)&&(h=a.button.New(h));h=a.component.Fetch(h);"basic"==h.getAttribute("data-syiro-component-type")&&d.appendChild(h)}d=a.buttongroup.CalculateInnerButtonWidth(d);"number"==
typeof b.active&&b.active<=b.items.length&&(b=d.querySelector('div[data-syiro-component="button"]:nth-of-type('+b.active+")"),e=a.component.FetchComponentObject(b),b.setAttribute("active",""),a.component.Update(e.id,b));a.data.Write(c+"->HTMLElement",d);c={id:c,type:"buttongroup"}}return c};f.CalculateInnerButtonWidth=function(b){var c=a.utilities.TypeOfThing(b),d;"ComponentObject"==c?"buttongroup"==b.type&&(d=a.component.Fetch(b)):"Element"==c&&(d=b);if(null!==d){b=d.querySelectorAll('div[data-syiro-component="button"]');
var c=Number((b.length/2).toFixed())!==b.length/2,e=0;c&&(e=Math.round(b.length/2));for(var f=0;f<b.length;f++){var h=b[f],l="calc(100% / "+b.length+")";c&&f==e?l="calc(100% / "+b.length+" - 2px)":f==b.length-1&&(l="calc(100% / "+b.length+" - "+(b.length-1)+"px)");a.style.Set(h,"width",l)}}return d};f.Toggle=function(b){b=a.component.Fetch(b);var c=b.parentElement,d=a.component.FetchComponentObject(c),e=c.querySelector('div[data-syiro-component="button"][active]');null!==e&&e.removeAttribute("active");
b.setAttribute("active","");a.component.Update(d.id,c)}})(a.buttongroup||(a.buttongroup={}))})(syiro||(syiro={}));
(function(a){(function(f){f.DoNotTrack=!0;f.IsOnline=!0;f.OrientationObject=screen;f.Detect=function(){"undefined"!==typeof navigator.doNotTrack&&(a.device.DoNotTrack=!!navigator.doNotTrack);a.device.HasCryptography=a.utilities.TypeOfThing(window.crypto,"Crypto");a.device.HasLocalStorage=a.utilities.TypeOfThing(window.localStorage,"Storage");a.device.SupportsMutationObserver=a.utilities.TypeOfThing(MutationObserver,"function");a.device.SupportsRequestAnimationFrame=a.utilities.TypeOfThing(requestAnimationFrame,
"function");"undefined"!==typeof navigator.onLine&&(a.device.IsOnline=navigator.onLine,a.events.Add("online",document,function(){a.device.IsOnline=!0}),a.events.Add("offline",document,function(){a.device.IsOnline=!1}));a.device.FetchOperatingSystem();a.device.SupportsTouch="Android"==a.device.OperatingSystem||"iOS"==a.device.OperatingSystem||"Ubuntu Touch"==a.device.OperatingSystem||"Windows Phone"==a.device.OperatingSystem;a.device.SupportsTouch&&(a.events.Strings.down="touchstart",a.events.Strings.up=
"touchend",a.events.Strings.move="touchmove");a.device.FetchScreenDetails();a.device.Orientation=a.device.FetchScreenOrientation();var b=function(b){var d=a.device.FetchScreenOrientation();if(d!==a.device.Orientation&&(a.device.Orientation=d,"interval"==b)){b=a.data.Read("screen->handlers->orientationchange-viainterval");for(var e in b)b[e]()}};"undefined"!==typeof screen.orientation&&"undefined"!==typeof screen.orientation.onchange?(a.device.OrientationObject=screen.orientation,a.events.Strings.orientationchange=
"change"):a.events.Strings.orientationchange="undefined"!==typeof screen.onmsorientationchange?"msorientationchange":"orientationchange-viainterval";"orientationchange-viainterval"!==a.events.Strings.orientationchange?a.events.Add(a.events.Strings.orientationchange,a.device.OrientationObject,b):window.setInterval(b.bind(this,"interval"),2E3)};f.FetchOperatingSystem=function(){var b=navigator.userAgent;-1!==b.indexOf("Android")?a.device.OperatingSystem="Android":-1!==b.indexOf("iPhone")||-1!==b.indexOf("iPad")?
a.device.OperatingSystem="iOS":-1!==b.indexOf("Linux")&&-1==b.indexOf("Android")?(a.device.OperatingSystem="Linux",-1!==b.indexOf("Sailfish")?a.device.OperatingSystem="Sailfish":-1===b.indexOf("Ubuntu")||-1===b.indexOf("Mobile")&&-1===b.indexOf("Tablet")||(a.device.OperatingSystem="Ubuntu Touch")):-1!==b.indexOf("Macintosh")?a.device.OperatingSystem="OS X":-1!==b.indexOf("Windows Phone")?a.device.OperatingSystem="Windows Phone":-1!==b.indexOf("Windows NT")?a.device.OperatingSystem="Windows":a.device.OperatingSystem=
"Other";return a.device.OperatingSystem};f.FetchScreenDetails=function(){a.device.height=screen.height;a.device.width=screen.width;a.device.IsSubHD=720>a.device.height;a.device.IsHD=720<=a.device.height&&1080>a.device.height&&1280<=a.device.width;a.device.IsFullHDOrAbove=1080<=a.device.height&&1920<=a.device.width};f.FetchScreenOrientation=function(){var a="portrait";"undefined"!==typeof screen.orientation&&"undefined"!==typeof screen.orientation.onchange?a=screen.orientation:"undefined"!==typeof screen.onmsorientationchange&&
(a=screen.msOrientation);if("landscape-primary"==a||screen.height<screen.width)a="landscape";return a}})(a.device||(a.device={}))})(syiro||(syiro={}));
(function(a){a.Init=function(){a.device.Detect();a.events.Add("scroll",document,a.utilities.Run.bind(this,function(){var b=document.querySelectorAll('div[data-syiro-component="button"][data-syiro-component-type="dropdown"][active]'),c;for(c in b)if(a.utilities.TypeOfThing(b[c],"Element")){var d=a.component.FetchComponentObject(b[c]);a.button.Toggle(d)}}));a.events.Add(a.events.Strings.fullscreenchange,document,function(){var a;"undefined"!==typeof document.fullscreenElement&&null!==document.fullscreenElement?
a=document.fullscreenElement:"undefined"!==typeof document.mozFullScreenElement&&null!==document.mozFullScreenElement?a=document.mozFullScreenElement:"undefined"!==typeof document.msFullscreenElement&&null!==document.msFullscreenElement?a=document.msFullscreenElement:"undefined"!==typeof document.webkitFullscreenElement&&null!==document.webkitFullscreenElement&&(a=document.webkitFullscreenElement);"undefined"!==typeof a&&null!==a&&(document.SyiroFullscreenElement=a)});var f=document.querySelector("head");
null==f&&(f=document.createElement("head"),document.querySelector("html").insertBefore(f,document.body));var b={"ie-compat":{"http-equiv":"X-UA-Compatible","content-attr":"IE=edge"},utf8:{charset:"utf-8"},viewport:{name:"viewport","content-attr":"width=device-width, maximum-scale=1.0, initial-scale=1,user-scalable=no"}},c;for(c in b){var d=b[c],e=Object.keys(d)[0];null==f.querySelector("meta["+e+'="'+d[e]+'"]')&&(d=a.utilities.ElementCreator("meta",d),a.component.Add("append",f,d))}null==document.body.querySelector('div[data-syiro-component="page"]')&&
(f=a.utilities.ElementCreator("div",{"data-syiro-component":"page",role:"main"}),a.component.Add("prepend",document.body,f));a.page=document.body.querySelector('div[data-syiro-component="page"]');a.device.SupportsMutationObserver?(new MutationObserver(function(b){for(var c=0;c<b.length;c++){var d=b[c];if("childList"==d.type)for(var e=0;e<d.addedNodes.length;e++)a.init.Parser(d.addedNodes[e])}})).observe(document.body,{childList:!0,attributes:!0,characterData:!1,attributeFilter:["data-syiro-component"],
subtree:!0}):(a.legacyDimensionsDetection=!1,function h(){window.setTimeout(function(){for(var b in a.data.storage){var c=document.querySelector('div[data-syiro-component-id="'+b+'"]');null!==c&&(a.init.Parser(c),0==a.legacyDimensionsDetection&&(a.device.FetchScreenDetails(),a.legacyDimensionsDetection=!0))}h()},3E3)}());a.utilities.Run(a.style.LoadColors)};a.Fetch=a.component.Fetch;a.FetchComponentObject=a.component.FetchComponentObject;a.FetchDimensionsAndPosition=a.component.FetchDimensionsAndPosition;
a.FetchLinkedListComponentObject=a.component.FetchLinkedListComponentObject;a.IsComponentObject=a.component.IsComponentObject;a.Add=a.component.Add;a.Remove=a.component.Remove;a.Position=a.render.Position})(syiro||(syiro={}));

// @license-end