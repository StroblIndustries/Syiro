/// <reference path="syiro.d.ts" />
/// <reference path="perfily.d.ts" />

// #region Global Variables

var generatedSyiroElement; // Define generatedSyiroElement as the element generated by the ElementCreator
var syiroGeneratedAudioPlayer;
var syiroGeneratedBasicButton;
var syiroGeneratedToggleButton;
var syiroGeneratedButtongroup;
var syiroGeneratedList;
var syiroGeneratedListItem;
var syiroGeneratedNavbar;
var syiroGeneratedSearchbox;
var syiroGeneratedToast;
var syiroGeneratedVideoPlayer;

// #endregion

function RunBenchmarks(){
	perfily.suite.New("Syiro", { "Output" : true, "OutputIntoDocument" : true }); // Create a Syiro Perfily Suite

	perfily.test.New({ "Description" : "Init" , "Suite" : "Syiro", "TestFunction" : function(){ syiro.Init(); }}); // Create a new Test that calls Init

	perfily.test.New({ "Description" : "ElementCreator", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that generates an example paragraph using ElementCreator
		generatedSyiroElement = syiro.utilities.ElementCreator("p", { "content" : "Example paragraph" });
	}});

	var secondsToTimeFormatExpectingString = JSON.stringify(syiro.utilities.SecondsToTimeFormat(4523));
	perfily.test.New({ "Description" : "SecondsToTimeFormat", "Suite" : "Syiro", "Expecting" : secondsToTimeFormatExpectingString, // Create a new Test that tests SecondsToTimeFormat
		"TestFunction" : function(){
			var localTimeObject = syiro.utilities.SecondsToTimeFormat(4523);
			return JSON.stringify(localTimeObject);
		}
	});

	perfily.test.New({ "Description" : "Add", "Suite" : "Syiro", "TestFunction" : function(){ //  Create a new Test that tests Syiro's Add function
		syiro.component.Add("append", document.body, generatedSyiroElement); // Add a component or Element via Syiro
	}});

	perfily.test.New({ "Description" : "Remove", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that tests Syiro's Remove function
		syiro.component.Remove(generatedSyiroElement); // Remove a component or Element via Syiro
	}});

	TestButtongroupAndButtons(); // Run the benchmarking of Buttongroup and Buttons
	TestListAndListItem(); // Run the benchmarking of List and List Items
	TestMediaPlayers(); // Run the benchmarking of the Media Players
	TestNavbar(); // Run the benchmarking of Navbar
	TestSearchbox(); // Run the benchmarking of Searchbox
	TestSidepane(); // Run the benchmarking of Sidepane
	TestToast(); // Run the benchmarking of Toast

	perfily.suite.Run("Syiro"); // Run the Syiro Suite
}

// #region Buttongroup and Buttons Testing

function TestButtongroupAndButtons(){

	perfily.test.New({ "Description" : "New Basic Button", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Basic Button
		syiroGeneratedBasicButton = syiro.button.New({"type" : "basic", "content" : "Basic Button"});
	}});

	perfily.test.New({ "Description" : "New Toggle Button", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Toggle Button
		syiroGeneratedToggleButton = syiro.button.New({"type" : "toggle", "default" : true});
	}});

	perfily.test.New({ "Description" : "New Buttongroup", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Buttongroup
		syiroGeneratedButtongroup = syiro.buttongroup.New({
			"items" : [ syiroGeneratedBasicButton, { "content" : "Button2" }, { "content" : "Button3" } ],
			"active" : 2
		});
	}});

	perfily.test.New({ "Description" : "Button SetIcon", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the icon of the basic button
		syiro.button.SetIcon(syiroGeneratedBasicButton, "img/message-inverted.png");
	}});

	perfily.test.New({ "Description" : "Button SetImage", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the image of the basic button
		syiro.button.SetImage(syiroGeneratedBasicButton, "img/message-inverted.png");
	}});

	perfily.test.New({ "Description" : "Button SetText", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the text of the basic button
		syiro.button.SetText(syiroGeneratedBasicButton, "Text");
	}});

	perfily.test.New({ "Description" : "Toggle Button - Toggle Function", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that toggles the toggle button
		syiro.button.Toggle(syiroGeneratedToggleButton);
	}});

	perfily.test.New({ "Description" : "Buttongroup Toggle", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that toggles the buttongroup inner button
		syiro.buttongroup.Toggle(syiroGeneratedBasicButton);
	}});
}

// #endregion

// #region List and List Item Testing

function TestListAndListItem(){
	perfily.test.New({ "Description" : "New List Item", "Suite" : "Syiro", "TestFunction": function(){ // Create a new Test that creates a new List Item
		syiroGeneratedListItem = syiro.listitem.New({ "label" : "List Item" });
	}});

	perfily.test.New({ "Description" : "New List", "Suite" : "Syiro", "TestFunction": function(){ // Create a new Test that creates a new List
		syiroGeneratedList = syiro.list.New({ "items" : [syiroGeneratedListItem] });
	}});

	perfily.test.New({ "Description" : "List SetHeader", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the header of the List
		syiro.list.SetHeader(syiroGeneratedList, "Header");
	}});

	perfily.test.New({ "Description" : "List Item SetControl", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the control of the List Item
		syiro.listitem.SetControl(syiroGeneratedListItem, syiroGeneratedToggleButton);
	}});

	perfily.test.New({ "Description" : "List Item SetImage", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the image of the List Item
		syiro.listitem.SetImage(syiroGeneratedListItem, "img/google-plus.png");
	}});

	perfily.test.New({ "Description" : "List Item SetLabel", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the label of the List Item
		syiro.listitem.SetLabel(syiroGeneratedListItem, "Updated Label");
	}});

	perfily.test.New({ "Description" : "List Item SetLink", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the link of the List Item
		syiro.listitem.SetLink(syiroGeneratedListItem, { "link" : "http://syiro.com", "title" : "Syiro" });
	}});

}

// #endregion

// #region Media Players Testing

function TestMediaPlayers(){

	perfily.test.New({ "Description" : "New Audio Player", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Audio Player
		syiroGeneratedAudioPlayer = syiro.mediaplayer.New({
			"type" : "audio",
			"sources": ["http://upload.wikimedia.org/wikipedia/commons/c/c8/Example.ogg", "http://www.noiseaddicts.com/samples/55.mp3" ],
			"art" : "https://c2.staticflickr.com/6/5134/5518988345_9df9892bb2_b.jpg",
			"title" : "Example OGG File",
			"artist" : "JesseW"
		});
	}});

	perfily.test.New({ "Description" : "New Video Player", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Video Palyer
		syiroGeneratedVideoPlayer = syiro.mediaplayer.New({
			"type" : "video",
			"art" : "img/video-art.png",
			"height" : 200,
			"width" : (200 * (16 / 9)),
			"sources" : ["http://download.blender.org/peach/trailer/trailer_480p.mov", "http://mirror.cessen.com/blender.org/peach/trailer/trailer_iphone.m4v", "http://video.webmfiles.org/big-buck-bunny_trailer.webm"]
		});
	}});

	syiro.component.Add("append", syiro.page, syiroGeneratedVideoPlayer); // Add the video player to the DOM

	perfily.test.New({ "Description" : "Media Player FetchInnerContentElement", "Suite" : "Syiro", "TestFunction": function(){ // Create a new Test that calls FetchInnerContentElement
		syiro.mediaplayer.FetchInnerContentElement(syiroGeneratedVideoPlayer);
	}});

	perfily.test.New({ "Description" : "Media Player FetchSources", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that calls FetchSources
		syiro.mediaplayer.FetchSources(syiroGeneratedVideoPlayer);
	}});

	perfily.test.New({ "Description" : "Media Player IsPlayable", "Expecting" : true, "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that checks IsPlayable
		syiro.mediaplayer.IsPlayable(syiroGeneratedVideoPlayer);
	}});

	perfily.test.New({ "Description" : "Media Player IsPlayable (Streaming)", "Expecting" : false, "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that tests IsPlayable with streamable check set to true and expects to not be.
		syiro.mediaplayer.IsPlaying(syiroGeneratedVideoPlayer, true);
	}});

	perfily.test.New({ "Description" : "Media Player IsPlaying", "Expecting" : false, "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that tests IsPlaying and expects to not be playing
		syiro.mediaplayer.IsPlaying(syiroGeneratedVideoPlayer);
	}});

	perfily.test.New({ "Description" : "Media Player PlayOrPause", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that calls to play the video player
		syiro.mediaplayer.PlayOrPause(syiroGeneratedVideoPlayer);
	}});

	perfily.test.New({ "Description" : "Media Player SetTime", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the time of the video player
		syiro.mediaplayer.SetTime(syiroGeneratedVideoPlayer, 7);
	}})

	perfily.test.New({ "Description" : "Media Player SetVolume", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the volume of the video player
		syiro.mediaplayer.SetVolume(syiroGeneratedVideoPlayer, 0.5);
	}});

	perfily.test.New({ "Description" : "Media Player Reset", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that resets the player
		syiro.mediaplayer.Reset(syiroGeneratedVideoPlayer);
	}});
}

// #endregion

// #region Navbar Testing

function TestNavbar(){
	perfily.test.New({ "Description" : "New Navbar", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Navbar
		syiro.navbar.New({ "items" : [{ "link" : "http://syiro.com", "title" : "Syiro"}], "position" : "fixed" });
	}});

	perfily.test.New({ "Description" : "Navbar AddLink", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that adds a link to the Navbar
		syiro.navbar.AddLink("append",  syiroGeneratedNavbar, { "link" : "http://syiro.com", "title" : "Syiro"});
	}});

	perfily.test.New({ "Description" : "Navbar RemoveLink", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that removes a link from the Navbar
		syiro.navbar.RemoveLink(syiroGeneratedNavbar, { "link" : "http://syiro.com", "title" : "Syiro"} );
	}});

	perfily.test.New({ "Description" : "Navbar SetLabel", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the label of the Navbar
		syiro.navbar.SetLabel(syiroGeneratedNavbar, "Label");
	}});

	perfily.test.New({ "Description" : "Navbar SetLogo", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the logo of the Navbar
		syiro.navbar.SetLogo(syiroGeneratedNavbar, "img/facebook.png");
	}});

}

// #endregion

// #region Searchbox Testing

function TestSearchbox(){
	perfily.test.New({ "Description" : "New Searchbox", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Searchbox
		syiroGeneratedSearchbox = syiro.searchbox.New({ "content" : "Type your things..." });
	}});

	perfily.test.New({ "Description" : "Searchbox SetText", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that sets the text of the Searchbox
		syiro.searchbox.SetText(syiroGeneratedSearchbox, "Test");
	}});
}

// #endregion

// #region Sidepane Testing

function TestSidepane(){
	perfily.test.New({ "Description" : "New Sidepane", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Sidepane
		syiro.sidepane.New({ "header" : "Sidepane Header", "items" : [ syiroGeneratedList ] });
	}});
}

// #endregion

// #region Toast Testing

function TestToast(){
	perfily.test.New({ "Description" : "New Toast", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that creates a new Toast
		syiroGeneratedToast = syiro.toast.New({ "type" : "normal", "title" : "This is a Toast!", "message" : "This is a message!" });
		syiro.component.Add("append", document.body, syiroGeneratedToast); // Append for Toggle Testing
	}});

	perfily.test.New({ "Description" : "Toast Toggle", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test that toggles the Toast
		syiro.toast.Toggle(syiroGeneratedToast);
	}});

	perfily.test.New({ "Description" : "Toast Clear", "Suite" : "Syiro", "TestFunction" : function(){ // Create a new Test the clears the Toast
		syiro.toast.Clear(syiroGeneratedToast);
	}});
}